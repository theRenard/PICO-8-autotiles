pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- autotiles
-- by @monsieurLeRenard

#include lua/debug.lua
#include lua/utilities.lua
#include lua/autotiles.lua
#include rules/cave.lua
#include rules/city.lua
#include rules/dungeon.lua
#include lua/main.lua


__gfx__
00000000000000000000000011011111110100000010000011110000000111000000000000000000000000000000000000000000000000000000000000058500
0c0000c0000000000000000011011111110100000010011011110000000010000000000000000000000000000000000000000000000000000000000005085550
00c00c00000111000000111011011111110100000000011011110111000111000000000000000000000000000000000000000000000000000000000055885555
000c1000000001000000111000000000000000000111011011110111000101000000000000000000000000000000000000000000000000000000000000888000
000cc000011100000111000011111011000000110111000000000111000111000000000000000000000000000000000000000000000000000551000055878505
00c10c0011110110111110001111101100000011011100000011000000001000000000000000b000000000500000500005551100001110000111555155585505
0c1000c0111101101111100011111011000000110000000000110000000111000500b00b050b00000b50b0050b05005005551551001111000551555105555500
0000000001115500000000000000000000000000005000000000000000010100555050b5555b50505b055b0555550b0505551551111111110551555100494000
499499994994449999994994000000000005bb5005b0500550000050050b00500b0b055077777cc777777777777cc77700000000000000000000000000050000
99999999999999999999999900000000000bbb5000b0b05050000550005b00b00b5b50b0111cccc1cccccccc1cccc11100000000000000000000000000040000
994444440444000044444499000000000000005500b5b50050000050000500b00b0b0050ccc1117111cc711ccc71cc1100000000000000000000000000050000
94499444044405554449944900000000000b50000050b000b5000050000b0050050500b01cc1111cc1ccc111cc1cccc100000000000000000000000000000000
9449944400000555444994490000000000bb50bb00b0b000b000005000050000000b0050111111ccc11111111111cc1c55511000000000000000510000000000
4445555000000000055554440040040005bb05500000b0000b000505000b0000000b000011111111111111c11111111111111551000111115551110000000000
94455550000000000555544904999940055000000000b00000bb5000000000000005000011111111171111111111111155511111111111111111055100000000
44455550000000000555544400400400000000000000500000500000000000000000000011111111111111111111111155515510111111115551055100000000
904440000000000000044409049999409999999999999994999999990000000000000000111111110000000111111111055555501111c1c10011110022000000
904440000000000000044409000004004444444444444440444444440000000000000000110011100000000c11111111050000501111c1110011110022000000
4000000000000000000000040099994000000000005550000550005500f0000000000080000011100000000111111111050000501111c1c10011110082220000
9404400000000000000440490044000000000000000111000011001100000000000000000110111000000001111111110500005011c1c1c10011110082220000
44044000000000000004404404999940000000000000111000011011000000000000000001100000000000001111111105cccc5011c1c1c10011110082220000
940000000009990000000049004004000000000000000110000010110000000000060000000000100000000011111111051c1c5011c1c1110011110022000000
940055000994994000550049049999400000000000000010000000110000000000000000000100000000000111111111001111001111c1110011110082022200
9000000049944450000000090040000000000000000000000000001100000000000000000000000000000000111111110011110011c1c1110011110082022200
904440000000000000044409499444940000000005511100000000110000000000000000ccccccccc00000000000000000000000c11111710000000000c11100
904440000000000000044409999999990000000005511100000000550000000000f0000011111111c00000000000000000000000c11111110000700000c11c00
40000000000000000000000400440004000000000000000000000011000000000000000011111111c10000000000000000077000c1c111c10000000000c11c00
94044000000000000004404940000554000000000055511100000011000000000000000011111111c10000000000000000077000c1c171c17700000000cc1c00
44044000000055000004404400005504000000000000011100000011000005000000000011111111c00000000000000000000077c1c111c17700000000cccc00
94000000000055000000004940005500000000005511011100000011000000000000000011111111c10000000000000000000777c1c1c7c17770000000c7cc00
44405500444000040055044444400004000000005511011100000011000000000000005011111111c1000000000000000007777777c1c7c77777000000c7c700
04444444444444444444444044444444000000005511555100000055000000000000000011111111c1000000000000000007777777c777c7777707700777c770
555555555555555555555555555555555555555555555555d6666666666666666666666d6677cccccccc7766dddddddddddddddd666666666666666666666666
5dddddddddddddddddddddd55555555555555555dddddddd666666666666666666666666667cccccccccc766dddddddddddddddd6dd66dd66dd66dd66dd66dd6
5d55555555555555555555d555555555555555555555555566dddddddddddddddddddd66dd7c7cccccccc7dddddddddddddddddd6dddddddddddddddddddddd6
5d55555555555555555555d555555555555555555dddddd566c777777777777777777c66777cccccccc7c777dddddddddddddddd66d6d6dddddddddddd6d6d66
5d55555555555555555555d555555555555555555dddddd5667cccc77cc77cc77cccc7667cccccccccccccc7dddddddddddddddd66dddddddddddddddddddd66
5d55555555555555555555d5555555555555555555555555667cccccccccccccccccc766ccdccccccccc7cccddddddd66ddddddd6dd6dddddddddddddddd6dd6
5d55555555555555555555d5555555dddd55555555555555667ccccccdc7ccccccccc766ccccccccccccccccddddddd66ddddddd6dddddddddddddddddddddd6
5d55555555555555555555d5555555d55d5555555dddddd56677cccccccccccccccc7766ccccccccccccccccdddddd6666dddddd66dddddddddddddddddddd66
5d55555555555555555555d5555555d55d5555555dddddd56677cccccccccccccccc7766ccccccccccccccccdddddd6666dddddd66dddddddddddddddddddd66
5d55555555555555555555d5555555dddd55555555555555667cccccccccccccccccc766ccccccccccccccccddddddd66ddddddd6dddddddddddddddddddddd6
5d55555555555555555555d5555555555555555555555555667ccccccccccccc7cdcc766cc7ccdcccccccdccdddddddddddddddd6dddddddddddddddddddddd6
5d55555555555555555555d555555555555555555dddddd56677cccccccccccccccc77667cccccccccccccc7dddddddddddddddd66dddddddddddddddddddd66
5d55555555555555555555d555555555555555555dddddd56677cccccccccccccccc7766777cdcccccccc777dddddddddddddddd66dddddddddddddddddddd66
5d55555555555555555555d5555555555555555555555555667cc7ccccccccccccccc766dd7cccccccccc7dddddddddddddddddd6dddddddddddddddddddddd6
5d55555555555555555555d5555555555555555555555555667cccccccccccccccccc766667ccccccc7cc766dddddddddddddddd6dddddddddddddddddddddd6
5d55555555555555555555d555555555555555555dddddd56677cccccccccccccccc77666677cccccccc7766dddddddddddddddd66dddddddddddddddddddd66
5d55555555555555555555d555555555555555555dddddd56677cccccccccccccccc776666666666666666666777dd6666dd777666dddddddddddddddddddd66
5d55555555555555555555d55d5555555dd55dd555555555667ccdcdccccccccc7ccc766d55dd55dd55dd55d7d66ddd66ddd66d76dd6dddddddddddddddd6dd6
5d55555555555555555555d5555dd5555d55ddd555555555667cccccccccccccccccc76665655656655665567dddddd66dddddd76dddddddddddddddddddddd6
5d55555555555555555555d5555dd555555ddd555dddddd5667cccc77cc77cc77cccc766656cc656655665567ddddd6666ddddd76dd6d6dddddddddddd6d6dd6
5d55555555555555555555d5555555d555ddd5555dddddd566d777777777777777777d66677cc776677667767ddddd6666ddddd76dddddddddddddddddddddd6
5d55555555555555555555d5555555555ddd55d55555555566dddddddddddddddddddd66777cc777777777777dddddd66dddddd76dd66dd66dd66dd66dd66dd6
5dddddddddddddddddddddd555d555555dd55dd5dddddddd6666666666666666666666667cc77cc77cc77cc76dddddd66dddddd6d6666666666666666666666d
555555555555555555555555555555555555555555555555d6666666666666666666666dcccccccccccccccc6555dd6666dd55565dddddddddddddddddddddd5
5d55555555555555555555d5333333333333333333333333cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
5d5dd55dd55dd55dd55dd5d5333333333b33333333333e33ccccccccc7cdcccccccdc7cd00000000000000000000000000000000000000000000000000000000
5d5dd55dd55dd55dd55dd5d53333333333333b333333e7e3cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
5d5dd55dd55dd55dd55dd5d533333333333b333333333e33cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
5d5dd55dd55dd55dd55dd5d53333333333333bb333e33333ccccccccccccdc7ccccccccc00000000000000000000000000000000000000000000000000000000
5d5dd55dd55dd55dd55dd5d53333333333333bb33e7e3333cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
5d5dd55dd55dd55dd55dd5d5333333333333333333e33333cccccccccdc7ccccdc7cdccc00000000000000000000000000000000000000000000000000000000
5d55555555555555555555d53333333333b3333333333333cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
1666666666666666666666666666666166666666666666666666666666666666166666611666666100000000dddddddddddddddd111111144114411441111111
6d6666666666666666666666666666d666666666666666666666666666666666611111166111111600000000dddcddddddddddcd1111244cc44cc44cc4421111
66d11111111111111111111111111d6666511111111115661111111111111111612222166111111600000000ddcdcdddddcddddd11144ccddccddccddcc44111
661ddddddddddddddd6666ddddddd166661dddddddddd166dddddddddddddddd614444166111111600000000ddddddcddddddddd114ccddddddddddddddcc411
661dddddddddddddd611116dddddd166661dddddddddd166dd66ddddddddd66d614444166111111600000000ddddddddddddcddd124cdddddcddddddddddc421
661ddddddddddddd61111116ddddd166661dddddddddd166dddddddddddddddd614414166111111600000000ddddcddddddcdcdd14cdddcdddddcddddddddc41
66155dd55dd55dd5611111165dd5516666155dd55dd551665dd566d55dd566d5614444166151511600000000dddddddccddddddd14cddddddddcdcddddcddc41
6615555555555555611111165555516666155555555551665555555555555555614444166115151600000000ddddddc44cdddddd4cddddddddddddddddddddc4
6611111111111111d666666d1111116666166666666661666666666666666666111111111111116600000000ddddddc44cdddddd4cddddddddddddddddddddc4
6611111111111111611111161111116666166666666661661666666666666661555555551116616600000000ddcddddccddddddd14cdddcddddddddddddddc41
661111111111111161d11d16111111666611111111111166d11111111111111d111555556616616600000000dcdcdddddddddddd14cddddddddddcddddcddc41
66111111111111116116611611111166661dddddddddd166dddddddddddddddddd111155661661dd00000000ddddddddddcddddd4cdddcdddddddddddcdcddc4
66111111111111116116611611111166661dddddddddd166ddddddddddd66ddddd1dd111661dd11100000000dddddddddddddddd4cddcdcdddddddddddddddc4
661111111111111161d11d1611111166661dddddddddd1665dddddddddddddd5dd1dd1dddd1111dd00000000ddddddddddcddddd14cdddddddcddddddddddc41
6611111111111111611111161111116666155dd55dd551665d665dd55dd566d5661dd1dd111ddddd00000000dddcdddddcdcdddd14cddddddcdcdddddcdddc41
6611111111111111d666666d1111116666155555555551661555555555555551dd1661dddddddddd00000000dddddddddddddddd4cddddddddddddddddddddc4
66666666666666666666666666666666111bb111111bb111111111b11cc11cc1dddddddddddddddddd6666d111111111111111114cddddcdddddddddddddddc4
166666666d1111d6611111166666666111bbbb1111cbbc111b1111b111cbbc116666666666111166666666d1151151111b1b151114cddcdcdddddddddddcdc41
d111111111d66d11156666511111111d1cbbbbc111bbbb111b111bbb1cbbbbc16d1111d661666616666666d15151111111b1111114cddddddddddcdddddddc41
ddddddddd161161d56111165dddddddd11cccc111bbbbbb1bbb11bbb1b1421b161d66d1616111161666666111511111111c11111124cddddddddcdcddcddc421
ddddddddd161161d61111116dddddddd11bbbb111bbbbbb1bbb11ccc111144111161161161111116111111d1111111511111b1b1114ccddddddddddddddcc411
5dddddddd1d66d1d61111116ddddddd51cccccc111cccc11ccc111c111112411d161161d61111116dddddd511111151511111b1111144ccddccddccddcc44111
5dd55dd551111115651515165dd55dd511122111111221111c1111411114211151d66d15651515165dd55d511115115111511c111111244cc44cc44cc4421111
15555555555555556151515655555551111441111114411114111111111441115111111561515156555555111111111111111111111111144114411441111111
1111116666111111111111166111111111dddddddddddddddddddddddddddd111d6666d11d6666d11d6666dd0000000000000000000000000000000000000000
111111166111111111111166661111111d6666666666666666666666666666d11d6666d1111111111d6666660000000000000000000000000000000000000000
111111d11d11111111111166661111111d6666666666666666111166666666d11d6666d1111111111d6666660000000000000000000000000000000000000000
111111dddd11111111111166661111111d6666666666666661666616dd6666d11d6666d111111111116666660000000000000000000000000000000000000000
111111dddd11111111111166661111111d66661111111111161111611d6666d11d6666d1111111111d1111110000000000000000000000000000000000000000
1111115dd511111111111166661111111d6666dddddddddd61111116dd6666d11d6666d11111111115dddddd0000000000000000000000000000000000000000
1111115dd511111111111166661111111d6666d55dd55dd5611111165d6666d11d6666d11111111115d55dd50000000000000000000000000000000000000000
111111155111111111111166661111111d6666d555555555611111165d6666d11d6666d11d6666d1115555550000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
055555555555555555555555ccccc555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
055555555555555555555555ccccc555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
055666666666666666555555ccccc555555666666666666655556666556666666556666665566666666665566666655666556666666665566666655666666555
05566666666666666655555ccccccc5555566666bbbbbbb655556666556666666556666665566666666665566666655666556666666665566666655666666555
0556666666666666555555ccccccccc555555666bbbbbbb6555566665566ccc66555555555555555555555555555555666556666666665566666655666666555
055666666666666655555ccccccccccc55555666bbbbbbb6555566665566ccc66555555555555555555555555555555666555555555555566666655666666555
05566666666666665555ccccccccccccc5555566bbbbbbb6555566665566ccc66556665555555555555555555555555666555555555555566666655666666555
05555555555556665555ccccccccccccc5555566bbbbbbb6555566665566ccc66556665566666666666666666666655666556666666665566666655666666555
05555555555556665555ccccccccccccc5555566bbbbbbb6555566665566ccc66556665566666666666666666666655666556666666665566666655666666555
05555555555556665555ccccccccccccc5555566bbbbbbb6555566665566ccc66556665566666666666666655555555666556cccccc665555555555555666555
05566666665556665555ccccccccccccc555556666666666555566665566ccc66556665566666666666666655555555666556cccccc665555555555555666555
055666666655566655555ccccccccccc55555666bbbbbbb6555566665566ccc66556665555555555555555555666655666556cccccc666665555555555666555
0555556666666666555555ccccccccc555555666bbbbbbb6555566665566ccc66556665555555555555555555666655666556ccccccccc665556666555666555
05555566666666666655555ccccccc5555566666bbbbbbb6555566665566ccc6655666555555555566666665555555566655666666cccc665556666555555555
055555666666666666555555ccccc5555556666666666666555566665566ccc6655666555666655566cccc65555555566655666666cccc665556666555555555
055555555555555555555555555555555555555555555555555555555566ccc6655555555666655566cccc66666655666655555556cccc665556666555666555
055555555555555555555555555555555555555555555555555555555566ccc6655555555666655566cccc666666556666555555566666665555555555666555
055555666666666655556666666666665556666655566666666666665566ccc6655666555666655566ccccccccc6556bb6556665555555555555555555666555
055666666666666655556bbbbbbbbbb6555666665556bbbbbbbbbbb65566ccc6655666555555555566666cccccc6556bb6556665555555555555555555666555
0556bbbbbbb6666655556bbbbbbbbbb6555666665556bbbbbbbbbbb65566ccc6655666555555555555566cccccc6556bb6555555566666666666666655666555
0556bbbbbbb666665555666666666666555666665556bbbbbbbbbbb65566ccc6655666555555555555566cccccc6556bb6555555566666666666666655666555
0556bbbbbbb666665555666666666666555666665556bbbbbbbbbbb65566ccc66556666665566666655666666666556bb6556666666666666666666655666555
05566666666666665555666666666666555666665556bbbbbbbbbbb65566ccc66556666665566666655666666666556bb6556666666666666666666655666555
05555555666555555555555555555555555555555556bbbbbbbbbbb65566ccc66556666665566666655555555555556bb6555555555555555555555555666555
05555555666555555555555555555555555555555556bbbbbbbbbbb65566ccc66556666665566666655555555555556bb6555555555555555555555555555555
05555555666555555555555555555555555555555556bbbbbbbbbbb65566ccc66556666665566666655666666666556bb6555555555555555555555555555555
05566666666666665555666666666666555666665556666666666666556666666556666665566666655666666666556666556666655666666666655666666555
05566666666666665555666666666666555666665556666666666666556666666556666665566666655666666666556666556666655666666666655666666555
05555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
05555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
