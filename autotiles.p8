pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- autotiles
-- by @monsieurLeRenard

#include lua/debug.lua
#include lua/utilities.lua
#include lua/autotiles.lua
#include rules/cave.lua
#include rules/city.lua
#include lua/main.lua


__gfx__
00000000000000000000000011011111110100000010000011110000000111000000000000000000000000000000000000000000000000000000000000058500
0c0000c0000000000000000011011111110100000010011011110000000010000000000000000000000000000000000000000000000000000000000005085550
00c00c00000111000000111011011111110100000000011011110111000111000000000000000000000000000000000000000000000000000000000055885555
000c1000000001000000111000000000000000000111011011110111000101000000000000000000000000000000000000000000000000000000000000888000
000cc000011100000111000011111011000000110111000000000111000111000000000000000000000000000000000000000000000000000551000055878505
00c10c0011110110111110001111101100000011011100000011000000001000000000000000b000000000500000500005551100001110000111555155585505
0c1000c0111101101111100011111011000000110000000000110000000111000500b00b050b00000b50b0050b05005005551551001111000551555105555500
0000000001115500000000000000000000000000005000000000000000010100555050b5555b50505b055b0555550b0505551551111111110551555100494000
499499994994449999994994000000000005bb5005b0500550000050050b00500b0b055077777cc777777777777cc77700000000000000000000000000050000
99999999999999999999999900000000000bbb5000b0b05050000550005b00b00b5b50b0111cccc1cccccccc1cccc11100000000000000000000000000040000
994444440444000044444499000000000000005500b5b50050000050000500b00b0b0050ccc1117111cc711ccc71cc1100000000000000000000000000050000
94499444044405554449944900000000000b50000050b000b5000050000b0050050500b01cc1111cc1ccc111cc1cccc100000000000000000000000000000000
9449944400000555444994490000000000bb50bb00b0b000b000005000050000000b0050111111ccc11111111111cc1c55511000000000000000510000000000
4445555000000000055554440040040005bb05500000b0000b000505000b0000000b000011111111111111c11111111111111551000111115551110000000000
94455550000000000555544904999940055000000000b00000bb5000000000000005000011111111171111111111111155511111111111111111055100000000
44455550000000000555544400400400000000000000500000500000000000000000000011111111111111111111111155515510111111115551055100000000
904440000000000000044409049999409999999999999994999999990000000000000000111111110000000111111111055555501111c1c10011110022000000
904440000000000000044409000004004444444444444440444444440000000000000000110011100000000c11111111050000501111c1110011110022000000
4000000000000000000000040099994000000000005550000550005500f0000000000080000011100000000111111111050000501111c1c10011110082220000
9404400000000000000440490044000000000000000111000011001100000000000000000110111000000001111111110500005011c1c1c10011110082220000
44044000000000000004404404999940000000000000111000011011000000000000000001100000000000001111111105cccc5011c1c1c10011110082220000
940000000009990000000049004004000000000000000110000010110000000000060000000000100000000011111111051c1c5011c1c1110011110022000000
940055000994994000550049049999400000000000000010000000110000000000000000000100000000000111111111001111001111c1110011110082022200
9000000049944450000000090040000000000000000000000000001100000000000000000000000000000000111111110011110011c1c1110011110082022200
904440000000000000044409499444940000000005511100000000110000000000000000ccccccccc00000000000000000000000c11111710000000000c11100
904440000000000000044409999999990000000005511100000000550000000000f0000011111111c00000000000000000000000c11111110000700000c11c00
40000000000000000000000400440004000000000000000000000011000000000000000011111111c10000000000000000077000c1c111c10000000000c11c00
94044000000000000004404940000554000000000055511100000011000000000000000011111111c10000000000000000077000c1c171c17700000000cc1c00
44044000000055000004404400005504000000000000011100000011000005000000000011111111c00000000000000000000077c1c111c17700000000cccc00
94000000000055000000004940005500000000005511011100000011000000000000000011111111c10000000000000000000777c1c1c7c17770000000c7cc00
44405500444000040055044444400004000000005511011100000011000000000000005011111111c1000000000000000007777777c1c7c77777000000c7c700
04444444444444444444444044444444000000005511555100000055000000000000000011111111c1000000000000000007777777c777c7777707700777c770
555555555555555555555555555555555555555555555555d6666666666666666666666d6677cccccccc7766dddddddddddddddd666666666666666666666666
5dddddddddddddddddddddd55555555555555555dddddddd666666666666666666666666667cccccccccc766dddddddddddddddd6dd66dd66dd66dd66dd66dd6
5d55555555555555555555d555555555555555555555555566dddddddddddddddddddd66dd7c7cccccccc7dddddddddddddddddd6dddddddddddddddddddddd6
5d55555555555555555555d555555555555555555dddddd566c777777777777777777c66777cccccccc7c777dddddddddddddddd66d6d6dddddddddddd6d6d66
5d55555555555555555555d555555555555555555dddddd5667cccc77cc77cc77cccc7667cccccccccccccc7dddddddddddddddd66dddddddddddddddddddd66
5d55555555555555555555d5555555555555555555555555667cccccccccccccccccc766ccdccccccccc7cccddddddd66ddddddd6dd6dddddddddddddddd6dd6
5d55555555555555555555d5555555dddd55555555555555667ccccccdc7ccccccccc766ccccccccccccccccddddddd66ddddddd6dddddddddddddddddddddd6
5d55555555555555555555d5555555d55d5555555dddddd56677cccccccccccccccc7766ccccccccccccccccdddddd6666dddddd66dddddddddddddddddddd66
5d55555555555555555555d5555555d55d5555555dddddd56677cccccccccccccccc7766ccccccccccccccccdddddd6666dddddd66dddddddddddddddddddd66
5d55555555555555555555d5555555dddd55555555555555667cccccccccccccccccc766ccccccccccccccccddddddd66ddddddd6dddddddddddddddddddddd6
5d55555555555555555555d5555555555555555555555555667ccccccccccccc7cdcc766cc7ccdcccccccdccdddddddddddddddd6dddddddddddddddddddddd6
5d55555555555555555555d555555555555555555dddddd56677cccccccccccccccc77667cccccccccccccc7dddddddddddddddd66dddddddddddddddddddd66
5d55555555555555555555d555555555555555555dddddd56677cccccccccccccccc7766777cdcccccccc777dddddddddddddddd66dddddddddddddddddddd66
5d55555555555555555555d5555555555555555555555555667cc7ccccccccccccccc766dd7cccccccccc7dddddddddddddddddd6dddddddddddddddddddddd6
5d55555555555555555555d5555555555555555555555555667cccccccccccccccccc766667ccccccc7cc766dddddddddddddddd6dddddddddddddddddddddd6
5d55555555555555555555d555555555555555555dddddd56677cccccccccccccccc77666677cccccccc7766dddddddddddddddd66dddddddddddddddddddd66
5d55555555555555555555d555555555555555555dddddd56677cccccccccccccccc776666666666666666666777dd6666dd777666dddddddddddddddddddd66
5d55555555555555555555d55d5555555dd55dd555555555667ccdcdccccccccc7ccc766d55dd55dd55dd55d7d66ddd66ddd66d76dd6dddddddddddddddd6dd6
5d55555555555555555555d5555dd5555d55ddd555555555667cccccccccccccccccc76665655656655665567dddddd66dddddd76dddddddddddddddddddddd6
5d55555555555555555555d5555dd555555ddd555dddddd5667cccc77cc77cc77cccc766656cc656655665567ddddd6666ddddd76dd6d6dddddddddddd6d6dd6
5d55555555555555555555d5555555d555ddd5555dddddd566d777777777777777777d66677cc776677667767ddddd6666ddddd76dddddddddddddddddddddd6
5d55555555555555555555d5555555555ddd55d55555555566dddddddddddddddddddd66777cc777777777777dddddd66dddddd76dd66dd66dd66dd66dd66dd6
5dddddddddddddddddddddd555d555555dd55dd5dddddddd6666666666666666666666667cc77cc77cc77cc76dddddd66dddddd6d6666666666666666666666d
555555555555555555555555555555555555555555555555d6666666666666666666666dcccccccccccccccc6555dd6666dd55565dddddddddddddddddddddd5
5d55555555555555555555d5333333333333333333333333cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
5d5dd55dd55dd55dd55dd5d5333333333b33333333333e33ccccccccc7cdcccccccdc7cd00000000000000000000000000000000000000000000000000000000
5d5dd55dd55dd55dd55dd5d53333333333333b333333e7e3cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
5d5dd55dd55dd55dd55dd5d533333333333b333333333e33cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
5d5dd55dd55dd55dd55dd5d53333333333333bb333e33333ccccccccccccdc7ccccccccc00000000000000000000000000000000000000000000000000000000
5d5dd55dd55dd55dd55dd5d53333333333333bb33e7e3333cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
5d5dd55dd55dd55dd55dd5d5333333333333333333e33333cccccccccdc7ccccdc7cdccc00000000000000000000000000000000000000000000000000000000
5d55555555555555555555d53333333333b3333333333333cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000000000000000000000000000000000
11555555511111115111111111111111115555555111111151111111111111110555555555555555555555555555555555555555555555555555555555555555
11555555511111111111111111111111115555555111111111111111111111110555555555555555555555555555555555555555555555555555555555555555
11551115511151111111111111111111115511155111511111111111111111110556666665566666666665566666655666556666666665566666655666666555
11555555511111111111155555111111115555555111111111111555551111110556666665566666666665566666655666556666666665566666655666666555
11555555555111111111111111111111115555555551111111111111111111110555555555555555555555555555555666556666666665566666655666666555
11111111155111111551111115551111111111111551111115511111155511110555555555555555555555555555555666555555555555566666655666666555
11111551111111511111111115551111111115511111115111111111155511110556665555555555555555555555555666555555555555566666655666666555
11111111111111111111111111111111111111111111111111111111111111110556665566666666666666666666655666556666666665566666655666666555
11111111155111111111111111111111111111111551111111111111111111110556665566666666666666666666655666556666666665566666655666666555
11111111111111111111555555555511111111111111111111115555555555110556665566666666666666655555555666556cccccc665555555555555666555
11111111111111111111555555555511111111111111111111115555555555110556665566666666666666655555555666556cccccc665555555555555666555
11555555555555555555555555555511115555555555555555555555555555110556665555555555555555555666655666556cccccc666665555555555666555
11555555555555511111111111111111115555555555555111111111111111110556665555555555555555555666655666556ccccccccc665556666555666555
1155555555555551111111111111111111555555555555511111111111111111055666555555555566666665555555566655666666cccc665556666555555555
1111111111111111111111111111111111111111111111111111111111111111055666555666655566cccc65555555566655666666cccc665556666555555555
1111111111111111111555555111111111111111111111111115555551111111055555555666655566cccc66666655666655555556cccc665556666555666555
1111111111111111111555555555551111111111111111111115555555555511055555555666655566cccc666666556666555555566666665555555555666555
1111111111111111111551111111551111111111111111111115511111115511055666555666655566ccccccccc6556bb6556665555555555555555555666555
1111115555555111111551111111551111111155555551111115511111115511055666555555555566666cccccc6556bb6556665555555555555555555666555
1111155555555551111551111111551111111555555555511115511111115511055666555555555555566cccccc6556bb6555555566666666666666655666555
1111155511115551111551111111551111111555111155511115511111115511055666555555555555566cccccc6556bb6555555566666666666666655666555
11111555111155511115511111115511111115551111555111155111111155110556666665566666655666666666556bb6556666666666666666666655666555
11111555111155511115555555555511111115551111555111155555555555110556666665566666655666666666556bb6556666666666666666666655666555
11111555111111111115555555555551111115551111111111155555555555510556666665566666655555555555556bb6555555555555555555555555666555
11111555111111111111111111111111111115551111111111111111111111110556666665566666655555555555556bb6555555555555555555555555555555
11111555111111111111111111111111111115551111111111111111111111110556666665566666655666666666556bb6555555555555555555555555555555
11555555555555555555555555555551115555555555555555555555555555510556666665566666655666666666556666556666655666666666655666666555
11555555555555555555555555555551115555555555555555555555555555510556666665566666655666666666556666556666655666666666655666666555
11555555555555555555555555555551115555555555555555555555555555510555555555555555555555555555555555555555555555555555555555555555
11111111111111111111111111111111111111111111111111111111111111110555555555555555555555555555555555555555555555555555555555555555
11111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000020500010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000020505050001010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000002020500010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000001011120505010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000002050501010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000050202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
