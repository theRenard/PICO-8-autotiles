pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- autotiles
-- by @monsieurLeRenard

#include lua/debug.lua
#include lua/utilities.lua
#include lua/autotiles.lua
#include rules/cave.lua
#include rules/city.lua
#include lua/main.lua


__gfx__
00000000000000000000000000000000110111111101000000100000111100000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000110111111101000000100110111100000000000000000000000000000000000000000000000000000000000000000000
00700700000000000001110000001110110111111101000000000110111101110000000000000000000000000000000000000000000000000000000000000000
00077000000000000000010000001110000000000000000001110110111101110000000000000000000000000000000000000000000000000000000000000000
00077000000000000111000001110000111110110000001101110000000001110000000000000000000000000000000000000000000000000000000000000000
00700700000000001111011011111000111110110000001101110000001100000000000000000000000000000000000000000000000000000000000000000000
00000000000000001111011011111000111110110000001100000000001100000000000000000000000000000000000000000000000000000000000000000000
00000000000000000111110000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000
00000000100000100001bb1001b010014ff4ffff4ff444ff4f4ff000ffff4ff40000000000000000000000000000000000000000000000000000000000000000
0000000010000110000bbb1000b0b010ffffffffffffffff444ff000ffffffff0000000000000000000000000000000000000000000000000000000000000000
00000000100000100000001100b1b100ff4444440444000044440000444444ff0000000000000000000000000000000000000000000000000000000000000000
00000000b1000010000b10000010b000f44ff44404440555ff440000444ff44f0000000000000000000000000000000000000000000000000000000000000000
00000000b000001000bb10bb00b0b000f44ff44400000555ff405550444ff44f0000000000000000000000000000000000000000000000000000000000000000
000000000b00010101bb01100000b000444555500000000004405550055554440000000000000000000000000000000000000000000000000000000000000000
0000000000bb1000011000000000b000f445555000000000000055500555544f0000000000000000000000000000000000000000000000000000000000000000
00000000001000000000000000001000444555500000000000000000055554440000000000000000000000000000000000000000000000000000000000000000
000000004ff4ffff4ff444ff00000000f044400000000000000585000004440f0000000000000000000000000000000000000000000000000000000000000000
00000000ffffffffffffffff00000000f044400000000000050855500004440f0000000000000000000000000000000000000000000000000000000000000000
00000000ff4444444444000400000000400000000000000055885555000000040000000000000000000000000000000000000000000000000000000000000000
00000000f44ff4444444055500000000f404400000000000008880000004404f0000000000000000000000000000000000000000000000000000000000000000
00000000f44ff4444000055500000000440440000000000055878505000440440000000000000000000000000000000000000000000000000000000000000000
00000000444444444000000400000000f4000000000fff00555855050000004f0000000000000000000000000000000000000000000000000000000000000000
00000000f44455544000000400000000f40055000ff4ff40055555000055004f0000000000000000000000000000000000000000000000000000000000000000
00000000444444444444444400000000f00000004ff44450004f40000000000f0000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000f044400000000000000500000004440f0000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000f044400000000000000400000004440f0000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000400000000000000000050000000000040000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000f404400000000000000000000004404f0000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000440440000000550000000000000440440000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000f400000000005500000000000000004f0000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000444055004440000400000000005504440000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000044444444444444400000000444444400000000000000000000000000000000000000000000000000000000000000000
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555550000000000000000000000000000000000000000
5dddddddddddddddddddddd55555555555555555dddddddd55555555555555555555555555555555555555550000000005555555555555555555555555555550
5d55555555555555555555d5555555555555555555555555555555dddddddddddd555555dddddddddddddddd0000000005555555555555555555555555555550
5d55555555555555555555d555555555555555555dddddd55555dd555555555555dd55555555dd5555dd55550000000005566666655666666666655666666550
5d55555555555555555555d555555555555555555dddddd5555d5555555555555555d555555d55555555d5550000000005566666655666666666655666666550
5d55555555555555555555d5555555555555555555555555555d55dddddddddddd55d555dddd55dddd55dddd0000000005555555555555555555555555555550
5d55555555555555555555d5555555dddd5555555555555555d55d555555555555d55d5555d55d5555d55d550000000005555555555555555555555555555550
5d55555555555555555555d5555555d55d5555555dddddd555d55d555555555555d55d5555d55d5555d55d550000000005566655555555555555555555555550
5d55555555555555555555d5555555d55d5555555dddddd555d55d5555d55d5555d55d5555d55d5555d55d550000000005566655666666666666666666666550
5d55555555555555555555d5555555dddd5555555555555555d55d5555d55d5555d55d5555d55d5555d55d550000000005566655666666666666666666666550
5d55555555555555555555d555555555555555555555555555d55d55dddddddd55d55d55dddd55dddd55dddd0000000005566655666666666666666555555550
5d55555555555555555555d555555555555555555dddddd555d55d5555d55d5555d55d55555d55555555d5550000000005566655666666666666666555555550
5d55555555555555555555d555555555555555555dddddd555d55d5555d55d5555d55d555555dd5555dd55550000000005566655555555555555555556666550
5d55555555555555555555d555555555555555555555555555d55d55dddddddd55d55d55dddddddddddddddd0000000005566655555555555555555556666550
5d55555555555555555555d555555555555555555555555555d55d5555d55d5555d55d5555555555555555550000000005566655555555556666666555555550
5d55555555555555555555d555555555555555555dddddd555d55d5555d55d5555d55d55555555555555555500000000055666555666655566cccc6555555550
5d55555555555555555555d55d5555d5555555555dddddd555d55d555555555555d55d55000000008888888800000000055555555666655566cccc6666665550
5d55555555555555555555d5dd5555dd555555555555555555d55d555555555555d55d55000000008888888800000000055555555666655566cccc6666665550
5d55555555555555555555d556dddd65555dd55555555555555d55dddddddddddd55d555000000008888888800000000055666555666655566ccccccccc65550
5d55555555555555555555d55555555555d55d555dddddd5555d5555555555555555d555000000008888888800000000055666555555555566666cccccc65550
5d55555555555555555555d55555555555d55d555dddddd55555dd555555555555dd5555000000008888888800000000055666555555555555566cccccc65550
5d55555555555555555555d555555555555dd55555555555555555dddddddddddd555555000000008888888800000000055666555555555555566cccccc65550
5dddddddddddddddddddddd55555555555555555dddddddd55555555555555555555555500000000888888880000000005566666655666666556666666665550
55555555555555555555555555555555555555555555555555555555555555555555555500000000888888880000000005566666655666666556666666665550
5d55555555555555555555d5555555555d555555555555d555555555555555555555555500000000000000000000000005566666655666666555555555555550
5d5dd55dd55dd55dd55dd5d555555555dd655555555556dd5d5555555dd55dd5555dd55500000000000000000000000005566666655666666555555555555550
5d5dd55dd55dd55dd55dd5d55555555555d5555555555d55555dd5555d55ddd5555dd55500000000000000000000000005566666655666666556666666666550
5d5dd55dd55dd55dd55dd5d55555555555d5555555555d55555dd555555ddd555dddddd500000000000000000000000005566666655666666556666666666550
5d5dd55dd55dd55dd55dd5d55555555555d5555555555d55555555d555ddd5555dddddd500000000000000000000000005566666655666666556666666666550
5d5dd55dd55dd55dd55dd5d556dddd6555d5555555555d55555555555ddd55d5555dd55500000000000000000000000005555555555555555555555555555550
5d5dd55dd55dd55dd55dd5d5dd5555dddd655555555556dd55d555555dd55dd5555dd55500000000000000000000000005555555555555555555555555555550
5d55555555555555555555d55d5555d55d555555555555d555555555555555555555555500000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000000000000000000000000000000000
11555555511111115111111111111111115555555111111151111111111111110555555555555555555555555555555555555555555555555555555555555555
11555555511111111111111111111111115555555111111111111111111111110555555555555555555555555555555555555555555555555555555555555555
11551115511151111111111111111111115511155111511111111111111111110556666665566666666665566666655555566666666665566666655666666555
11555555511111111111155555111111115555555111111111111555551111110556666665566666666665566666655555566666666665566666655666666555
11555555555111111111111111111111115555555551111111111111111111110555555555555555555555555555555555566666666665566666655666666555
11111111155111111551111115551111111111111551111115511111155511110555555555555555555555555555555555555555555555566666655666666555
11111551111111511111111115551111111115511111115111111111155511110556665555555555555555555555555555555555555555566666655666666555
11111111111111111111111111111111111111111111111111111111111111110556665566666666666666666666655555556666666665566666655666666555
11111111155111111111111111111111111111111551111111111111111111110556665566666666666666666666655555556666666665566666655666666555
11111111111111111111555555555511111111111111111111115555555555110556665566666666666666655555555555556cccccc665555555555555666555
11111111111111111111555555555511111111111111111111115555555555110556665566666666666666655555555555556cccccc665555555555555666555
11555555555555555555555555555511115555555555555555555555555555110556665555555555555555555666655555556cccccc666665555555555666555
11555555555555511111111111111111115555555555555111111111111111110556665555555555555555555666655555556ccccccccc665556666555666555
1155555555555551111111111111111111555555555555511111111111111111055666555555555566666665555555555555666666cccc665556666555555555
1111111111111111111111111111111111111111111111111111111111111111055666555666655566cccc65555555555555666666cccc665556666555555555
1111111111111111111555555111111111111111111111111115555551111111055555555666655566cccc66666655555555555556cccc665556666555666555
1111111111111111111555555555551111111111111111111115555555555511055555555666655566cccc666666555555555555566666665555555555666555
1111111111111111111551111111551111111111111111111115511111115511055666555666655566ccccccccc6555555566665555555555555555555666555
1111115555555111111551111111551111111155555551111115511111115511055666555555555566666cccccc6555555566665555555555555555555666555
1111155555555551111551111111551111111555555555511115511111115511055666555555555555566cccccc6555555555555566666666666666655666555
1111155511115551111551111111551111111555111155511115511111115511055666555555555555566cccccc6555555555555566666666666666655666555
11111555111155511115511111115511111115551111555111155111111155110556666665566666655666666666555555566666666666666666666655666555
11111555111155511115555555555511111115551111555111155555555555110556666665566666655666666666555555566666666666666666666655666555
11111555111111111115555555555551111115551111111111155555555555510556666665566666655555555555555555555555555555555555555555666555
11111555111111111111111111111111111115551111111111111111111111110556666665566666655555555555555555555555555555555555555555555555
11111555111111111111111111111111111115551111111111111111111111110556666665566666655666666666655555555555555555555555555555555555
11555555555555555555555555555551115555555555555555555555555555510556666665566666655666666666655555566666655666666666655666666555
11555555555555555555555555555551115555555555555555555555555555510556666665566666655666666666655555566666655666666666655666666555
11555555555555555555555555555551115555555555555555555555555555510555555555555555555555555555555555555555555555555555555555555555
11111111111111111111111111111111111111111111111111111111111111110555555555555555555555555555555555555555555555555555555555555555
11111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000000000000000000000000000000000
